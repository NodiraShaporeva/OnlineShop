@page "/accounts/register"
@using OnlineShop.HttpApiClient
@using OnlineShop.HttpModels.Request

@inject IShopClient ShopClient

<PageTitle>Регистрация пользователя</PageTitle>

<EditForm Model="_request" OnValidSubmit="Register">
    <DataAnnotationsValidator/>
    Email<input type="email" @bind-value="_request.Email"/>
    Имя<input type="text" @bind-value="_request.Name"/>
    Пароль<input type="password" @bind-value="_request.Password"/>
    Подтверждение пароля<input type="password" @bind-value="_request.PasswordConfirm"/>
    <ValidationSummary/>
    <input type="submit" value="Sign up">
</EditForm>

@code {
    RegisterRequest _request = new RegisterRequest();

    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
    }

    private async Task Register()
    {
        await ShopClient.Register(_request);
    }

}