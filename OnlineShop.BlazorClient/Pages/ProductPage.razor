@page "/products/get_all"

@using OnlineShop.Models
@using OnlineShop.HttpApiClient

@inject IShopClient ShopClient

<ProductList Products="Products" DisplayBuyButton="true"></ProductList>

@code {
    private IReadOnlyList<Product> Products { get; set; } = new List<Product>();

    protected override async Task<IReadOnlyList<Product>> OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        Products = await ShopClient.GetProducts();
        return Products;
    }
}